"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("react/jsx-runtime"),d=require("@storybook/addons"),u=require("react-relay"),l=require("relay-test-utils"),f=d.makeDecorator({name:"withRelay",parameterName:"relay",skipIfNoParametersOrOptions:!0,wrapper:(R,t,{parameters:y})=>{const e=y,{query:o,variables:a={},mockResolvers:g={},mockResolversFunc:c}=e;if(e.getReferenceEntries&&e.getReferenceEntry)throw new Error("Both getReferenceEntries and getReferenceEntry cant be defined");const m=()=>{const r=u.useLazyLoadQuery(o,a),n=e.getReferenceEntries?e.getReferenceEntries(r):[e.getReferenceEntry(r)];return Object.assign(t.args,Object.fromEntries(n)),R(t)},s=l.createMockEnvironment();return s.mock.queueOperationResolver(r=>{const n=c?c(t.args):g;return e.generateFunction?e.generateFunction(r,n):l.MockPayloadGenerator.generate(r,n)}),s.mock.queuePendingOperation(o,a),i.jsx(u.RelayEnvironmentProvider,{environment:s,children:i.jsx(m,{})})}});exports.withRelay=f;
